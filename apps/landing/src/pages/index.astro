---
import ModernLayout from "../layouts/ModernLayout.astro";
import Header from "../components/modern/Header.astro";
import Footer from "../components/modern/Footer.astro";
---

<ModernLayout title="AgentPod — Your AI Agents, Anywhere">
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  <Header slot="header" />
  
  <div id="main-content"></div>
  
  <!-- HERO -->
  <section class="relative min-h-[90vh] flex items-center justify-center overflow-hidden pt-32 pb-20">
    <div class="relative container-wide mx-auto px-6">
      <div class="max-w-4xl">
        <div class="badge badge-accent mb-8 animate-fade-in">
          <span class="w-2 h-2 rounded-full bg-success animate-pulse"></span>
          <span>Now in Early Access</span>
        </div>
        
        <h1 class="display-xl mb-8 text-foreground animate-fade-in-up delay-100">
          Your AI Agents,<br />
          <span class="text-accent-sienna">Anywhere</span>
        </h1>
        
        <p class="subheadline max-w-2xl mb-12 animate-fade-in-up delay-200">
          Run powerful AI agents in secure, portable sandboxes. 
          Access from any device. Keep your computer safe.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 mb-12 animate-fade-in-up delay-300">
          <a href="#waitlist" class="btn btn-primary">
            Join the Waitlist
          </a>
          <a href="/developers" class="btn btn-secondary">
            Self-Host Now
          </a>
        </div>
        
        <p class="text-sm text-foreground-muted animate-fade-in delay-400">
          Powered by <a href="https://opencode.ai" target="_blank" rel="noopener noreferrer" class="text-foreground hover:text-accent-sienna transition-colors font-medium border-b border-current">OpenCode</a> — 75+ AI models supported
        </p>
      </div>
    </div>
    
    <div class="absolute right-0 top-1/4 w-1/3 h-1/2 bg-accent-gold opacity-5 blur-3xl pointer-events-none"></div>
  </section>

  <!-- FEATURES -->
  <section id="features" class="py-32 relative" aria-labelledby="features-heading">
    <div class="container-wide mx-auto px-6">
      <div class="max-w-3xl mb-20">
        <span class="eyebrow reveal">Why AgentPod</span>
        <h2 class="headline mt-4 mb-6 reveal reveal-delay-1">
          AI agents are powerful. But running them on your main computer is risky, and accessing them on-the-go is impossible.
        </h2>
        <div class="divider-short reveal reveal-delay-2"></div>
      </div>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="card-feature reveal reveal-delay-1">
          <div class="mb-6">
            <svg class="w-8 h-8 text-accent-sienna" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z" />
            </svg>
          </div>
          <h3 class="text-xl font-semibold mb-3" style="font-family: var(--font-display);">Access Anywhere</h3>
          <p class="text-foreground-muted leading-relaxed">
            Your AI workspace travels with you. Desktop, tablet, or phone — your agents are always within reach.
          </p>
        </div>
        
        <div class="card-feature reveal reveal-delay-2">
          <div class="mb-6">
            <svg class="w-8 h-8 text-accent-sienna" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
          </div>
          <h3 class="text-xl font-semibold mb-3" style="font-family: var(--font-display);">Sandboxed & Safe</h3>
          <p class="text-foreground-muted leading-relaxed">
            Agents run in isolated containers, not on your computer. Execute commands freely without risk.
          </p>
        </div>
        
        <div class="card-feature reveal reveal-delay-3">
          <div class="mb-6">
            <svg class="w-8 h-8 text-accent-sienna" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <h3 class="text-xl font-semibold mb-3" style="font-family: var(--font-display);">Full AI Power</h3>
          <p class="text-foreground-muted leading-relaxed">
            75+ AI models. Claude, GPT, Copilot, Ollama, and more. One interface, infinite possibilities.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- HOW IT WORKS -->
  <section id="how-it-works" class="py-32 bg-background-subtle relative" aria-labelledby="how-it-works-heading">
    <div class="container-wide mx-auto px-6">
      <div class="text-center max-w-2xl mx-auto mb-20">
        <span class="eyebrow reveal">The Process</span>
        <h2 class="headline mt-4 reveal reveal-delay-1">
          How It Works
        </h2>
      </div>
      
      <div class="grid md:grid-cols-3 gap-16">
        <div class="relative reveal reveal-delay-1">
          <div class="section-number">01</div>
          <div class="relative pt-8">
            <h3 class="text-2xl font-semibold mb-4" style="font-family: var(--font-display);">Create a Pod</h3>
            <p class="text-foreground-muted leading-relaxed">
              Spin up an isolated AI workspace in seconds. Choose your tools, languages, and AI models.
            </p>
          </div>
        </div>
        
        <div class="relative reveal reveal-delay-2">
          <div class="section-number">02</div>
          <div class="relative pt-8">
            <h3 class="text-2xl font-semibold mb-4" style="font-family: var(--font-display);">Connect from Anywhere</h3>
            <p class="text-foreground-muted leading-relaxed">
              Access your pod from any device. Desktop app, mobile app, or browser — your choice.
            </p>
          </div>
        </div>
        
        <div class="relative reveal reveal-delay-3">
          <div class="section-number">03</div>
          <div class="relative pt-8">
            <h3 class="text-2xl font-semibold mb-4" style="font-family: var(--font-display);">Let AI Work for You</h3>
            <p class="text-foreground-muted leading-relaxed">
              Chat with your AI agent, run tasks, and get things done — all in a safe, sandboxed environment.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- USE CASES -->
  <section class="py-32 relative">
    <div class="container-wide mx-auto px-6">
      <div class="max-w-3xl mb-16">
        <span class="eyebrow reveal">Possibilities</span>
        <h2 class="headline mt-4 reveal reveal-delay-1">
          What Can You Do?
        </h2>
        <p class="subheadline mt-6 reveal reveal-delay-2">
          AgentPod adapts to how you work.
        </p>
      </div>
      
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="card reveal reveal-delay-1">
          <h4 class="font-semibold mb-2 text-lg" style="font-family: var(--font-display);">Code from your phone</h4>
          <p class="text-sm text-foreground-muted leading-relaxed">Review PRs, fix bugs, or build features — from anywhere.</p>
        </div>
        <div class="card reveal reveal-delay-2">
          <h4 class="font-semibold mb-2 text-lg" style="font-family: var(--font-display);">Automate tasks</h4>
          <p class="text-sm text-foreground-muted leading-relaxed">Let AI handle repetitive work while you focus on what matters.</p>
        </div>
        <div class="card reveal reveal-delay-3">
          <h4 class="font-semibold mb-2 text-lg" style="font-family: var(--font-display);">Experiment safely</h4>
          <p class="text-sm text-foreground-muted leading-relaxed">Test risky commands in sandboxes, not on your main machine.</p>
        </div>
        <div class="card reveal reveal-delay-4">
          <h4 class="font-semibold mb-2 text-lg" style="font-family: var(--font-display);">Multiple projects</h4>
          <p class="text-sm text-foreground-muted leading-relaxed">Each pod is isolated. Switch contexts without conflicts.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- WAITLIST -->
  <section id="waitlist" class="py-32 bg-background-subtle relative" aria-labelledby="waitlist-heading">
    <div class="container-narrow mx-auto px-6">
      <div class="text-center">
        <span class="eyebrow reveal">Get Access</span>
        <h2 class="headline mt-4 mb-6 reveal reveal-delay-1">
          Join the Waitlist
        </h2>
        <p class="subheadline mb-12 reveal reveal-delay-2">
          We're building the hosted version. Be first in line.
        </p>
        
        <form 
          id="waitlist-form" 
          class="flex flex-col sm:flex-row gap-4 max-w-md mx-auto reveal reveal-delay-3" 
          action="#" 
          method="POST"
          aria-labelledby="waitlist-heading"
        >
          <div class="flex-1">
            <label for="email" class="sr-only">Email address</label>
            <input 
              type="email" 
              id="email"
              name="email" 
              placeholder="you@example.com" 
              required
              aria-required="true"
              aria-describedby="email-error"
              class="input w-full"
            />
            <span id="email-error" class="sr-only" role="alert"></span>
          </div>
          <button type="submit" class="btn btn-primary whitespace-nowrap">
            <span id="submit-text">Join Waitlist</span>
            <span id="loading-text" class="hidden">Joining...</span>
          </button>
        </form>
        
        <div id="form-message" class="mt-6 text-sm" role="status" aria-live="polite"></div>
        
        <p class="text-sm text-foreground-muted mt-8 reveal reveal-delay-4">
          Can't wait? <a href="/developers" class="text-foreground hover:text-accent-sienna transition-colors font-medium border-b border-current">Self-host now</a> — it's open source.
        </p>
      </div>
    </div>
  </section>

  <!-- OPEN SOURCE -->
  <section class="py-32 relative">
    <div class="container-narrow mx-auto px-6 text-center">
      <div class="badge badge-accent mb-6 reveal">
        Open Source
      </div>
      
      <h2 class="headline mb-6 reveal reveal-delay-1">
        Built in the Open
      </h2>
      <p class="subheadline mb-12 reveal reveal-delay-2">
        AgentPod is MIT licensed. Self-host on your own infrastructure, 
        contribute to the project, or just peek under the hood.
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center reveal reveal-delay-3">
        <a 
          href="https://github.com/rakeshgangwar/agentpod" 
          target="_blank" 
          rel="noopener noreferrer"
          class="btn btn-secondary"
          aria-label="View AgentPod on GitHub (opens in new tab)"
        >
          <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
          </svg>
          <span>View on GitHub</span>
        </a>
        <a href="/developers" class="btn btn-ghost">
          Read the Docs
        </a>
      </div>
    </div>
  </section>

  <Footer slot="footer" />
</ModernLayout>

<script>
  const revealElements = document.querySelectorAll('.reveal');
  
  const revealObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('revealed');
      }
    });
  }, {
    threshold: 0.1,
    rootMargin: '0px 0px -80px 0px'
  });
  
  revealElements.forEach(el => revealObserver.observe(el));
  
  const waitlistForm = document.getElementById('waitlist-form') as HTMLFormElement;
  const formMessage = document.getElementById('form-message');
  const submitText = document.getElementById('submit-text');
  const loadingText = document.getElementById('loading-text');
  
  if (waitlistForm && formMessage && submitText && loadingText) {
    waitlistForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      submitText.classList.add('hidden');
      loadingText.classList.remove('hidden');
      const submitButton = waitlistForm.querySelector<HTMLButtonElement>('button[type="submit"]');
      if (submitButton) submitButton.disabled = true;
      
      setTimeout(() => {
        formMessage.textContent = '✓ Thanks! We\'ll be in touch soon.';
        formMessage.className = 'mt-6 text-sm text-success font-medium';
        waitlistForm.reset();
        
        submitText.classList.remove('hidden');
        loadingText.classList.add('hidden');
        if (submitButton) submitButton.disabled = false;
      }, 1500);
    });
  }
</script>
