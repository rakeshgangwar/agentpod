---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

const platforms = [
  {
    name: "macOS",
    subtitle: "Apple Silicon & Intel",
    command: "darwin",
    color: "cyber-cyan",
    primary: true,
    downloads: [
      { label: "Apple Silicon", ext: ".dmg", arch: "arm64" },
      { label: "Intel", ext: ".dmg", arch: "x86_64" },
    ],
  },
  {
    name: "Windows",
    subtitle: "x64 & ARM64",
    command: "win32",
    color: "cyber-emerald",
    primary: false,
    downloads: [
      { label: "x64", ext: ".msi", arch: "x64" },
      { label: "ARM64", ext: ".msi", arch: "arm64" },
    ],
  },
  {
    name: "Linux",
    subtitle: "deb, rpm, AppImage",
    command: "linux",
    color: "cyber-magenta",
    primary: false,
    downloads: [
      { label: "Debian/Ubuntu", ext: ".deb", arch: "amd64" },
      { label: "Fedora/RHEL", ext: ".rpm", arch: "x86_64" },
      { label: "Universal", ext: ".AppImage", arch: "x86_64" },
    ],
  },
];

const mobileStatus = [
  { name: "iOS", status: "COMING SOON", note: "TestFlight beta" },
  { name: "Android", status: "COMING SOON", note: "APK + Play Store" },
];

const requirements = [
  { component: "OS", minimum: "macOS 11, Win 10, Ubuntu 20.04", recommended: "Latest" },
  { component: "RAM", minimum: "8GB", recommended: "16GB+" },
  { component: "DISK", minimum: "10GB free", recommended: "50GB+ SSD" },
  { component: "DOCKER", minimum: "20.10+", recommended: "Latest" },
];
---

<BaseLayout title="Download â€” AgentPod">
  <Header slot="header" />
  
  <section class="py-20">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="text-center animate-fade-in-up">
        <h1 class="text-4xl font-bold font-mono tracking-tight text-cyber-cyan sm:text-5xl glitch-hover reveal-fade">
          &gt; download --platform=auto
        </h1>
        <p class="mt-4 text-lg text-muted-foreground max-w-2xl mx-auto reveal-fade reveal-delay-1">
          Choose your platform and start building with AI agents
        </p>
      </div>
    </div>
  </section>

  <section class="py-12 bg-background">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="grid gap-8 lg:grid-cols-3">
        {platforms.map((platform, index) => (
          <div class={`terminal-window reveal-slide-up reveal-delay-${index + 1}`}>
            <div class="terminal-header">
              <span class="text-xs">install.{platform.command}</span>
              {platform.primary && (
                <span class="ml-auto flex items-center gap-1">
                  <span class="status-dot status-running"></span>
                  <span class="text-[10px] text-cyber-emerald uppercase">RECOMMENDED</span>
                </span>
              )}
            </div>
            <div class="terminal-body">
              <h2 class={`text-lg font-semibold font-mono text-${platform.color} mb-4`}>
                {platform.name}
              </h2>
              <div class="space-y-2">
                {platform.downloads.map((download) => (
                  <div class="flex items-center justify-between text-xs py-2 px-3 border border-border/50 rounded hover:border-cyber-cyan transition-all cursor-pointer hover:translate-x-1 card-glow">
                    <div class="font-mono">
                      <span class="text-cyber-cyan">$</span> 
                      <span class="text-muted-foreground ml-2">{download.label}</span>
                      <span class="text-muted-foreground/50 ml-2">({download.arch})</span>
                    </div>
                    <span class="text-cyber-cyan">{download.ext}</span>
                  </div>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-20 bg-card/50">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-xs font-mono text-cyber-cyan uppercase tracking-widest reveal-fade">
          // MOBILE APPS
        </h2>
      </div>
      
      <div class="flex flex-wrap justify-center gap-6">
        {mobileStatus.map((mobile, index) => (
          <div class={`terminal-window min-w-[240px] reveal-slide-up reveal-delay-${index + 1}`}>
            <div class="terminal-header">
              <span class="text-xs">{mobile.name.toLowerCase()}.app</span>
            </div>
            <div class="terminal-body text-center">
              <div class="flex items-center justify-center gap-2 mb-2">
                <span class="status-dot status-warning"></span>
                <span class="text-xs font-mono text-cyber-amber">{mobile.status}</span>
              </div>
              <p class="text-xs text-muted-foreground">{mobile.note}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="py-20 bg-background">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-xs font-mono text-cyber-cyan uppercase tracking-widest reveal-fade">
          // SYSTEM REQUIREMENTS
        </h2>
      </div>
      
      <div class="terminal-window max-w-4xl mx-auto reveal-slide-up">
        <div class="terminal-header">
          <span class="text-xs">system.specs</span>
        </div>
        <div class="terminal-body overflow-x-auto">
          <table class="w-full text-left font-mono text-xs">
            <thead>
              <tr class="border-b border-border">
                <th class="py-2 px-2 text-cyber-cyan">COMPONENT</th>
                <th class="py-2 px-2 text-cyber-cyan">MINIMUM</th>
                <th class="py-2 px-2 text-cyber-cyan">RECOMMENDED</th>
              </tr>
            </thead>
            <tbody>
              {requirements.map((req) => (
                <tr class="border-b border-border/50 hover:bg-card/50 transition-colors">
                  <td class="py-2 px-2 text-cyber-emerald">{req.component}</td>
                  <td class="py-2 px-2 text-muted-foreground">{req.minimum}</td>
                  <td class="py-2 px-2 text-cyber-cyan">{req.recommended}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>

  <section class="py-20 bg-card/50">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-xs font-mono text-cyber-cyan uppercase tracking-widest reveal-fade">
          // ALTERNATIVE METHODS
        </h2>
      </div>
      
      <div class="grid gap-6 sm:grid-cols-3 max-w-3xl mx-auto">
        <a
          href="https://github.com/rakeshgangwar/agentpod#quick-start"
          target="_blank"
          rel="noopener noreferrer"
          class="terminal-window hover:border-cyber-cyan transition-all cursor-pointer group card-glow reveal-slide-up reveal-delay-1"
        >
          <div class="terminal-header">
            <span class="text-xs">quickstart.md</span>
          </div>
          <div class="terminal-body">
            <div class="text-sm font-mono text-cyber-cyan group-hover:glow-text transition-all">Quick Start</div>
            <p class="mt-2 text-xs text-muted-foreground">5 minute setup</p>
          </div>
        </a>
        
        <a
          href="https://github.com/rakeshgangwar/agentpod/blob/main/docs/production-readiness/"
          target="_blank"
          rel="noopener noreferrer"
          class="terminal-window hover:border-cyber-cyan transition-all cursor-pointer group card-glow reveal-slide-up reveal-delay-2"
        >
          <div class="terminal-header">
            <span class="text-xs">deploy.sh</span>
          </div>
          <div class="terminal-body">
            <div class="text-sm font-mono text-cyber-emerald group-hover:glow-text transition-all">Self-Host</div>
            <p class="mt-2 text-xs text-muted-foreground">Deploy to VPS</p>
          </div>
        </a>
        
        <a
          href="https://github.com/rakeshgangwar/agentpod"
          target="_blank"
          rel="noopener noreferrer"
          class="terminal-window hover:border-cyber-cyan transition-all cursor-pointer group card-glow reveal-slide-up reveal-delay-3"
        >
          <div class="terminal-header">
            <span class="text-xs">build.sh</span>
          </div>
          <div class="terminal-body">
            <div class="text-sm font-mono text-cyber-magenta group-hover:glow-text transition-all">From Source</div>
            <p class="mt-2 text-xs text-muted-foreground">For developers</p>
          </div>
        </a>
      </div>
    </div>
  </section>

  <section class="py-20">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 text-center">
      <div class="font-mono text-lg text-cyber-cyan mb-6">
        &gt; NEED HELP?
      </div>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href="https://github.com/rakeshgangwar/agentpod#readme" target="_blank" rel="noopener noreferrer" class="cyber-btn">
          $ VIEW DOCS
        </a>
        <a href="https://github.com/rakeshgangwar/agentpod/issues" target="_blank" rel="noopener noreferrer" class="cyber-btn">
          $ REPORT ISSUE
        </a>
      </div>
    </div>
  </section>

  <Footer slot="footer" />
</BaseLayout>

<script>
import '../scripts/main.ts';
</script>
