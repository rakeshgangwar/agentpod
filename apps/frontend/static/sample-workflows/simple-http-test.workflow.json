{
  "name": "Simple HTTP Test",
  "description": "A simple workflow to test HTTP requests and JavaScript processing",
  "nodes": [
    {
      "id": "trigger-1",
      "type": "trigger",
      "position": { "x": 100, "y": 200 },
      "data": {
        "nodeType": "manual-trigger",
        "label": "Start",
        "triggerType": "manual"
      }
    },
    {
      "id": "http-1",
      "type": "action",
      "position": { "x": 350, "y": 200 },
      "data": {
        "nodeType": "http-request",
        "label": "Fetch Users",
        "url": "https://jsonplaceholder.typicode.com/users?_limit=3",
        "method": "GET",
        "headers": [],
        "responseType": "json",
        "timeout": 30000
      }
    },
    {
      "id": "js-1",
      "type": "action",
      "position": { "x": 600, "y": 200 },
      "data": {
        "nodeType": "javascript",
        "label": "Process Users",
        "code": "const users = steps['http-1'].data.data;\nreturn {\n  count: users.length,\n  names: users.map(u => u.name),\n  emails: users.map(u => u.email)\n};",
        "inputs": {}
      }
    },
    {
      "id": "condition-1",
      "type": "condition",
      "position": { "x": 850, "y": 200 },
      "data": {
        "nodeType": "condition",
        "label": "Has Users?",
        "conditions": [
          {
            "field": "{{steps['js-1'].data.output.count}}",
            "operator": "greaterThan",
            "value": "0",
            "outputBranch": "true"
          }
        ],
        "defaultBranch": "false",
        "mode": "first"
      }
    },
    {
      "id": "js-success",
      "type": "action",
      "position": { "x": 1100, "y": 150 },
      "data": {
        "nodeType": "javascript",
        "label": "Success",
        "code": "return {\n  status: 'success',\n  message: `Found ${steps['js-1'].data.output.count} users`,\n  data: steps['js-1'].data.output\n};",
        "inputs": {}
      }
    },
    {
      "id": "js-failure",
      "type": "action",
      "position": { "x": 1100, "y": 300 },
      "data": {
        "nodeType": "javascript",
        "label": "No Users",
        "code": "return {\n  status: 'empty',\n  message: 'No users found'\n};",
        "inputs": {}
      }
    }
  ],
  "edges": [
    { "id": "e1", "source": "trigger-1", "target": "http-1", "animated": true },
    { "id": "e2", "source": "http-1", "target": "js-1", "animated": true },
    { "id": "e3", "source": "js-1", "target": "condition-1", "animated": true },
    { "id": "e4", "source": "condition-1", "target": "js-success", "sourceHandle": "true", "animated": true },
    { "id": "e5", "source": "condition-1", "target": "js-failure", "sourceHandle": "false", "animated": true }
  ]
}
